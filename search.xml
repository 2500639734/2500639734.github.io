<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>LinuxShell脚本编程</title>
      <link href="/2018/12/26/LinuxShell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B/"/>
      <url>/2018/12/26/LinuxShell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h1><ul><li><code>.sh</code>后缀的文件,以<code>#!/bin/bash</code>开头</li><li>编辑脚本<code>vim /home/helloworld.sh</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 终端输出hello world</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"hello world"</span></span><br></pre></td></tr></table></figure></li></ul><p><code>chmod 777 /home/helloworld.sh</code>附加执行权限<br><code>sh /home/helloworld.sh</code>执行(终端打印<code>hello world</code>)</p><hr><h1 id="执行方式"><a href="#执行方式" class="headerlink" title="执行方式"></a>执行方式</h1><ul><li><code>./hellowrold.sh</code>相对路径执行</li><li><code>/home/helloworld.sh</code>绝对路径执行</li><li><code>sh /home/helloworld.sh</code> <code>sh</code>命令执行</li><li><code>bash /home/helloworld.sh</code> <code>bash</code>命令执行</li></ul><hr><h1 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h1><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><ul><li>系统变量<ul><li><code>set</code>显示当前系统的所有变量</li><li><code>echo $HOME</code>输出系统变量<code>HOME</code>(当前用户根目录)</li></ul></li><li><p>自定义变量</p><ul><li>变量定义规则<ul><li>变量名称可以由字母、数字、下划线组成,但不能以数字开头</li><li>等号两侧不能由空格</li><li>变量名称一般习惯为大写</li><li>双引号和单引号由区别,双引号仅将空格脱意,单引号会将所有特殊字符脱意</li></ul></li><li>定义变量<ul><li><code>SS=hello</code>定义自定义变量<code>SS</code>,值为<code>hello</code></li><li><code>echo $SS</code>输出自定义变量<code>SS</code></li><li><code>unset SS</code>撤销自定义变量<code>SS</code></li><li><code>readonly SS=hello</code>定义静态变量<code>SS</code>,值为<code>hello</code>(静态变量不可修改,只能注销或重启后撤销)</li><li><code>export SS</code>把变量<code>SS</code>提升为全局变量,可供其他<code>shell</code>程序使用</li></ul></li><li>将命令的返回值赋给变量<ul><li><code>A=</code>ls -la<code></code>反引号,运行里面的命令,并把结果返回给变量<code>A</code></li><li><code>A=$(ls -la)</code>等价于反引号,运行里面的命令,并把结果返回给变量<code>A</code></li></ul></li><li>设置环境变量<ul><li><code>export 变量名=变量值</code>设置环境变量的值,全局都可以使用</li><li><code>source 配置文件</code>让修改后的值立即生效</li><li><code>echo $变量名</code>查询环境变量的值</li></ul></li><li><p>位置参数变量</p><ul><li><code>$n</code> <code>n</code>为数字,<code>$0</code>代表命令本身,<code>$1-$9</code>代表第1-9个参数,十以上的参数用大括号包含<code>${10}</code></li><li><code>$*</code>代表命令行中所有参数,<code>$*</code>把所有参数看成一个整体</li><li><code>$@</code>代表命令行中所有参数,<code>$@</code>把每个参数区分对待</li><li><code>$#</code>代表命令行中所有参数的个数</li><li>例子:<code>vim /home/echoParams.sh</code>,保存后授权:<code>chmod 777 /home/echoParams.sh</code>,执行<code>/home/echoParams.sh param1 param2</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 输出第一个参数</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$1</span>"</span></span><br><span class="line"><span class="comment"># 输出第二个参数</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$2</span>"</span></span><br><span class="line"><span class="comment"># 输出所有参数</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"$*"</span></span><br><span class="line"><span class="comment"># 输出所有参数</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$@</span>"</span></span><br><span class="line"><span class="comment"># 输出所有参数的个数</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$#</span>"</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>系统进程变量</p><ul><li><code>$$</code>获取当前进程的进程号(<code>pid</code>)</li><li><code>$!</code>获取后台运行的最后一个进程的进程号(<code>pid</code>)</li><li><code>$?</code>获取最后一次执行的命令的返回状态<ul><li><code>0</code>:命令正确执行</li><li><code>非0</code>:命令执行不正确(除了<code>0</code>其它数字由命令自己决定)</li></ul></li><li>例子:<code>vim /home/echoPids.sh</code>,保存后授权:<code>chmod 777 /home/echoPids.sh</code>,执行<code>/home/echoPids.sh</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 输出获取当前进程的进程号</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"$$"</span></span><br><span class="line"><span class="comment"># 输出后台运行的最后一个进程的进程号</span></span><br><span class="line">/home/echoParams.sh param1 param2 &amp;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"$!"</span></span><br><span class="line"><span class="comment"># 输出最后一次执行的命令的返回状态(0代表正确执行,非0代表没有正确执行)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"$?"</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3></li><li><code></code>命令<code></code>运算命令需要用<code>`</code> `符号包裹</li><li><code>$((运算式))</code>或<code>$[运算式]</code></li><li><code>expr m+n</code>(expr运算符之间要有空格)<ul><li><code>/*</code>乘,<code>/</code>除,<code>%</code>取余(<code>expr</code>运算符需要加<code>/</code>符号)<h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h3></li></ul></li><li><p><code>[condition]</code>条件(前后要有空格)</p><ul><li><code>[condition]</code>返回<code>true</code></li><li><code>[]</code>返回<code>false</code></li><li><code>[condition]&amp;&amp;echo OK||echo netok</code>条件满足,执行后面的语句</li><li><code>=</code>字符串比较,<code>-lt</code>小于,<code>-le</code>小于等于,<code>-eq</code>等于,<code>-gt</code>大于,<code>-ge</code>大于等于,<code>-ne</code>不等于(整数比较)</li><li><code>-r</code>有读的权限,<code>-w</code>有写的权限,<code>-x</code>有执行的权限(文件权限判断)</li><li><code>-f</code>文件存在并且是一个常规文件,<code>-e</code>文件存在,<code>-d</code>文件存在并且是一个目录(文件类型判断)<h3 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h3></li><li><p><code>case</code>语句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 接收第一个参数</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line"><span class="string">"1"</span>)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"1"</span></span><br><span class="line"><span class="comment"># 结束当前分支</span></span><br><span class="line">;;</span><br><span class="line"><span class="string">"2"</span>)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"2"</span></span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"other"</span></span><br><span class="line">;;</span><br><span class="line"><span class="comment"># 结束`case`语句</span></span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure></li><li><p><code>for</code>语句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># $*一次性获取所有参数</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">"$*"</span></span><br><span class="line"><span class="keyword">do</span> </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$i</span>"</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># $@分别获取所有参数</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="string">"<span class="variable">$@</span>"</span></span><br><span class="line"><span class="keyword">do</span> </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$j</span>"</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 累加1-100</span></span><br><span class="line">s=0</span><br><span class="line"><span class="keyword">for</span>((i=1; i&lt;=100; i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    s=$[<span class="variable">$s</span>+<span class="variable">$i</span>]</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$s</span></span><br></pre></td></tr></table></figure></li><li><p><code>while</code>语句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 累加1-100</span></span><br><span class="line">s=0</span><br><span class="line">i=0</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -le 100 ] </span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    s=$[<span class="variable">$s</span>+<span class="variable">$i</span>]</span><br><span class="line">    i=$[<span class="variable">$i</span>+1]</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$s</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="read读取控制台输入"><a href="#read读取控制台输入" class="headerlink" title="read读取控制台输入"></a>read读取控制台输入</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># -p接收输入参数,-t指定等待输入时间(秒)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"input your name "</span> NAME1</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$NAME1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3秒后不输入NAME2为空</span></span><br><span class="line"><span class="built_in">read</span> -t 3 -p <span class="string">"input your name "</span> NAME2</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$NAME2</span></span><br></pre></td></tr></table></figure><h3 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h3><ul><li><p><code>basename</code>(去除路径<code>/</code>(包含<code>/</code>本身)和前面的字符)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">str=`basename /home/basename.sh`</span><br><span class="line"><span class="comment"># 输出basename.sh</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$str</span></span><br></pre></td></tr></table></figure></li><li><p><code>dirname</code>(去除文件本身,相当于获取绝对路径)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">str=`basename /home/basename.sh`</span><br><span class="line"><span class="comment"># 输出/home</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$str</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 计算输入参数的和</span></span><br><span class="line"><span class="comment"># 1.必须在调用之前先声明,(shell脚本是逐行运行,不会像java一样先编译)</span></span><br><span class="line"><span class="comment"># 2.函数返回值,只能通过$?系统变量获得,可以显示加return返回,如果不加将以最后一条命令运行结果作为返回值(return后跟数值n(0-255))</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">sum</span></span>()&#123;</span><br><span class="line">   s=0</span><br><span class="line">   s=$[<span class="variable">$1</span>+<span class="variable">$2</span>]</span><br><span class="line">   <span class="built_in">echo</span> <span class="variable">$s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"Plase input the number1:"</span> n1</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"Plase input the number2:"</span> n2</span><br><span class="line">sum <span class="variable">$n1</span> <span class="variable">$n2</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux基础 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Linux常用命令</title>
      <link href="/2018/12/25/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2018/12/25/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h1><p><code>man</code>获得帮助信息<br><code>help</code>获得shell内置命令的帮助信息</p><hr><h1 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h1><p>-<code>ctrl + c</code>停止进程<br>-<code>ctrl + i</code>清屏<br>-<code>ctrl + q</code>退出<br>-<code>table</code>自动补全<br>-<code>上下键</code>查找使用过的命令</p><hr><h1 id="文件命令"><a href="#文件命令" class="headerlink" title="文件命令"></a>文件命令</h1><ul><li><code>pwd</code>查看当前目录的绝对路径</li><li><code>ls</code>列出目录内容</li><li><code>ls -a</code>列出目录内容,连同隐藏(<code>.</code>开头的文件)一起列出</li><li><code>ll</code>列出目录内容(包含属性和权限信息)</li><li><code>ls -al</code>列出全部目录内容(包含隐藏文件,属性和权限信息)</li><li><code>mkdir</code>创建目录</li><li><code>mkdir -p</code>创建多层目录</li><li><code>touch</code>创建空文件</li><li><code>cd</code>切换目录<ul><li><code>cd ~</code>切换到用户根目录</li><li><code>cd -</code>切换到上次所在目录</li><li><code>cd ..</code>切换到上级目录</li><li><code>cd -P</code>跳转到实际物理路径,而非快捷方式路径</li></ul></li><li><code>cp</code>复制文件或目录</li><li><code>rmdir</code>删除空目录</li><li><code>rm</code>删除文件</li><li><code>rm -rf</code>递归删除文件或目录</li><li><code>cp</code>复制文件或目录</li><li><code>cp -r</code>递归复制</li><li><code>mv</code>移动文件或重命名文件</li><li><code>mv -t</code>递归移动文件</li><li><code>cat</code>查看文件<code>-n</code>列出行号(从第一行开始)</li><li><code>tac</code>查看文件<code>-n</code>列出行号(从最后一行开始)</li><li><code>more</code>查看文件(一页一页展示,空格或<code>=</code>或<code>ctrl + f</code>下一页,<code>ctrl + b</code>上一页,<code>n</code>显示行号)</li><li><code>less</code>查看文件(<code>pageup</code> + <code>pagedown</code>翻页,<code>q:</code>退出,<code>/</code>或<code>?</code>搜索,<code>n</code>或<code>N</code>向上/向下查找搜索词语)</li><li><code>head -n 行数</code>查看指定行数的文件内容</li><li><code>tail -n 行数</code>查看文件内容,只看尾巴几行,<code>-f</code>实时追踪该文档的所有更新</li><li><code>&gt;</code>覆盖写</li><li><code>&gt;&gt;</code>追加写</li><li><code>echo</code>输出变量</li><li><code>ln -s 软链接名称 链接目录</code>创建软链接(相当于<code>windows</code>快捷方式)</li><li><code>cd -P</code>进入软链接实际目录</li><li><code>history</code>查看命令行历史</li></ul><hr><h1 id="vi编辑命令"><a href="#vi编辑命令" class="headerlink" title="vi编辑命令"></a>vi编辑命令</h1><ul><li>一般模式<ul><li><code>yy</code>复制光标当前一行</li><li><code>y数字y</code>复制一段(从第几行到第几行)</li><li><code>p</code>箭头移动到目的行粘贴</li><li><code>u</code>撤销上一步</li><li><code>dd</code>删除光标当前行</li><li><code>d数字行d</code>删除光标之后多少行(包含光标所在行)</li><li><code>x</code>删除一个字母,相当于<code>del</code></li><li><code>X</code>删除一个字母,相当于<code>Backspace</code></li><li><code>yw</code>复制一个词</li><li><code>dw</code>删除一个词</li><li><code>shift + ^</code>移动到行头</li><li><code>shift + $</code>移动到行尾</li><li><code>数字 + shift + g</code>移动到目标行</li><li><code>1 + shift + g</code>移动到页头</li><li><code>shift + g</code>移动到页尾</li></ul></li><li>编辑模式<ul><li><code>i</code>当前光标前</li><li><code>a</code>当前光标后</li><li><code>o</code>当前光标的下一行</li><li><code>Esc</code>退出编辑模式</li></ul></li><li>指令模式<ul><li><code>:</code>后输入(组合使用)<ul><li><code>w</code>保存</li><li><code>q</code>退出</li><li><code>!</code>强制</li></ul></li><li><code>n</code>后输入(组合使用)<ul><li><code>/查找词语</code>,查找之后<code>n</code>查找下一个,<code>shift + n</code>查找上一个</li><li><code>?查找词语</code>,查找之后<code>n</code>查找上一个,<code>shift + n</code>查找下一个</li></ul></li></ul></li></ul><hr><h1 id="时间日期"><a href="#时间日期" class="headerlink" title="时间日期"></a>时间日期</h1><ul><li><code>date</code>显示当前时间</li><li><code>date &quot;+%Y-%m-%d %H:%M:%S&quot;</code>按特定格式显示当前时间</li><li><code>date -d &quot;next day&quot;</code>显示明天时间</li><li><code>date -d &quot;yesterday&quot;</code>显示昨天时间</li><li><code>date -d &quot;next week&quot;</code>显示下周时间</li><li><code>date -d &quot;next monday&quot;</code>显示下周一时间</li><li><code>date -s &quot;2018-12-12 00:00:00&quot;</code>设置系统时间</li><li><code>cal</code>查看当前月日历</li><li><code>cal -3</code>查看最近三个月的日历</li><li><code>cal 2018</code>查看年份日历</li></ul><hr><h1 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h1><ul><li><code>useradd</code>添加新用户</li><li><code>passwd</code>设置密码</li><li><code>id</code>判断用户是否存在</li><li><code>su</code>切换用户</li><li><code>userdel</code>删除用户但保存用户目录</li><li><code>userdel -r</code>删除用户和用户目录</li><li><code>who</code>查看登录用户信息</li><li><code>whoami</code>显示当前使用的用户名称</li><li><code>who am i</code>显示登录用户名称</li><li><code>usermod</code>修改用户<code>-g</code> 组名 用户名</li><li>赋予普通用户<code>root</code>权限(如us)<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sudoers,root下添加一行如下</span><br><span class="line">##Allow root to run any commands anywhere</span><br><span class="line">root ALL=(ALL) ALL</span><br><span class="line">us ALL=(ALL) ALL</span><br><span class="line">保存后su - us输入密码登录即可获取root权限</span><br></pre></td></tr></table></figure></li></ul><hr><h1 id="用户组管理"><a href="#用户组管理" class="headerlink" title="用户组管理"></a>用户组管理</h1><ul><li><code>groupadd</code>新增组</li><li><code>groupdel</code>删除组</li><li><code>groupmod</code>修改组<code>-n</code> 新组名 老组名</li><li><code>cat /etc/group</code>查看创建了哪些组</li></ul><hr><h1 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a>文件权限</h1><ul><li><code>-rw-r--r.1 root root 12月12 00:00 file.txt</code></li><li><code>-drwxr-xr-x.2 root root 4096 12月12 00:00 file.txt</code></li></ul><table><thead><tr><th>整体描述</th><th>字符</th><th>含义</th></tr></thead><tbody><tr><td>文件权限</td><td>第1位<code>-</code></td><td>文件</td></tr><tr><td>文件权限</td><td>第1位<code>d</code></td><td>文件夹</td></tr><tr><td>用户主权限</td><td>第2-4位<code>r</code></td><td>读</td></tr><tr><td>用户主权限</td><td>第2-4位<code>w</code></td><td>写</td></tr><tr><td>用户主权限</td><td>第2-4位<code>x</code></td><td>执行</td></tr><tr><td>用户主权限</td><td>第2-4位<code>-</code></td><td>没有权限</td></tr><tr><td>用户组权限</td><td>第5-7位<code>r</code></td><td>读</td></tr><tr><td>用户组权限</td><td>第5-7位<code>w</code></td><td>写</td></tr><tr><td>用户组权限</td><td>第5-7位<code>x</code></td><td>执行</td></tr><tr><td>用户组权限</td><td>第5-7位<code>-</code></td><td>没有权限</td></tr><tr><td>其他用户权限</td><td>第8-10位<code>r</code></td><td>读</td></tr><tr><td>其他用户权限</td><td>第8-10位<code>w</code></td><td>写</td></tr><tr><td>其他用户权限</td><td>第8-10位<code>x</code></td><td>执行</td></tr><tr><td>其他用户权限</td><td>第8-10位<code>-</code></td><td>没有权限</td></tr><tr><td>链接数</td><td>第11位<code>2</code></td><td>链接数</td></tr><tr><td>文件拥有者</td><td>第12位<code>root</code></td><td>文件拥有者</td></tr><tr><td>用户组</td><td>第13位<code>root</code></td><td>用户组</td></tr><tr><td>文件大小</td><td>第14位<code>4096</code></td><td>文件大小</td></tr><tr><td>创建时间</td><td>第15位<code>12月12 00:00</code></td><td>创建时间</td></tr><tr><td>文件名称</td><td>第16位<code>file.txt</code></td><td>文件名称</td></tr></tbody></table><ul><li><p><code>chmod</code>改变文件权限</p><ul><li><code>字符方式</code><ul><li><code>chmod u+x</code>对用户设置执行权限</li><li><code>chmod g-w</code>对用户组设置只读权限</li><li><code>chmod o+w</code>对其他用户设置写权限</li><li><code>chmod a+x</code>对所有人设置执行权限</li></ul></li><li><p><code>数字方式</code></p><ul><li><code>rwx</code>对应<code>111</code>二进制,十进制表示为<code>7</code></li><li><code>111 = 7</code>,<code>110 = 6</code>,<code>100 = 4</code>,<code>1</code>代表有权限,<code>0</code>代表没有权限</li><li><code>chmod</code>第一位数字表示用户权限,第二位数字表示用户组权限,第三位数字表示其他用户权限(十进制)</li><li><code>chmod 777</code>对所有人设置读写和执行权限</li><li><code>chmod 700</code>对用户设置读写和执行权限</li><li><code>chmod 200</code>对用户设置写权限</li><li><code>chmod 660</code>对用户和用户组设置读和执行权限</li></ul></li><li><p><code>chown root</code>改变文件所有者为<code>root</code>(<code>root</code>用户操作)</p></li><li><code>chgrp root</code>改变文件所有组为<code>root</code>(<code>root</code>用户操作)</li></ul></li></ul><hr><h1 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h1><ul><li><code>fdisl -l</code>查看分区详情(<code>root</code>用户操作)</li><li><code>df -h</code>查看硬盘详情</li><li><code>mount/umount</code>挂载/卸载</li><li><code>mount -t iso9660 -o rw /dev/cdrom /mnt/cdrom</code>挂载<code>iso</code>镜像到指定目录</li><li><code>-t</code>表示输入,<code>iso9960</code>表示类型,<code>-o</code>表示输出,<code>rw</code>表示读写,文件目录,挂载目录</li><li><code>umount /mnt/cdrom</code>卸载</li></ul><hr><h1 id="搜索查找"><a href="#搜索查找" class="headerlink" title="搜索查找"></a>搜索查找</h1><p><code>find</code>查找文件或目录<br><code>find /home -name &quot;*.txt&quot;</code>查找<code>home</code>目录下后缀为<code>.txt</code>的文件<br><code>find /home -user root</code>查找<code>home</code>目录下所属<code>root</code>用户的文件<br><code>find /home -size +10</code>查找<code>home</code>目录下大于10的文件(<code>+n</code>大于,<code>-n</code>小于,<code>n</code>等于)<br><code>grep</code>输出文件内搜索字符串匹配的行<br><code>ls -l | grep ll.txt</code>查找当前目录下的<code>ll.txt</code>文件(<code>-n</code>输出行数)<br><code>which</code>查找命令所在目录<br><code>which ls</code>查找<code>ls</code>命令所在目录</p><hr><h1 id="进程线程"><a href="#进程线程" class="headerlink" title="进程线程"></a>进程线程</h1><ul><li><code>ps -aux</code>查看系统中所有进程</li><li><code>top</code>查看系统健康状态(<code>-d</code>设置刷新秒数,<code>q</code>退出)</li><li><code>pstree</code>查看进程树(<code>-u</code>显示进程所属用户,<code>-p</code>显示进程<code>id</code>号)</li><li><code>kill -9 pid</code>立即杀死进程</li><li><code>netstat -anp</code>显示网络统计信息</li></ul><hr><h1 id="压缩解压缩"><a href="#压缩解压缩" class="headerlink" title="压缩解压缩"></a>压缩解压缩</h1><ul><li><code>gzip</code>压缩文件(只能压缩单独一个文件,不保留源文件)</li><li><code>gunzip</code>解压缩文件(只能解压单独一个文件,不保留源文件)</li><li><code>zip demo a.txt b.txt</code>压缩文件(可以压缩多个文件,保留源文件)</li><li><code>unzip demo.zip</code>解压缩文件(可以解压多个文件,保留源文件)</li><li><code>tar -zcvf demo.tar.gz a.txt b.txt</code>压缩文件</li><li><code>tar -zvxf demo.tar.gz</code>压缩到当前目录</li><li><code>tar -zvxf demo.tar.gz -C /home</code>压缩到指定目录</li><li><code>-c</code>产生<code>.tar</code>打包文件,<code>-v</code>显示详细信息,<code>-f</code>指定压缩后的文件名,<code>-z</code>打包同时压缩,<code>-x</code>解压<code>.tar</code>文件</li></ul><hr><h1 id="后台服务管理"><a href="#后台服务管理" class="headerlink" title="后台服务管理"></a>后台服务管理</h1><ul><li><code>service network status</code>查看指定服务状态</li><li><code>service network stop</code>停止指定服务</li><li><code>service network start</code>启动指定服务</li><li><code>service network restart</code>重启指定服务</li><li><code>service --status -all</code>查看系统中的所有后台服务</li><li><code>chkconfig</code>查看所有服务器自启配置</li><li><code>chkconfig iptables off</code>关闭指定服务的自动启动</li><li><code>chkconfig iptables on</code>开启指定服务的自动启动</li></ul><hr><h1 id="系统定时任务"><a href="#系统定时任务" class="headerlink" title="系统定时任务"></a>系统定时任务</h1><ul><li><code>crontab -e</code>编辑<code>crontab</code>定时任务</li><li><code>crontab -l</code>查询<code>crontab</code>定时任务</li><li><code>crontab -r</code>删除当前用户的所有<code>crontab</code>定时任务</li><li><code>* * * * * echo &quot;hello&quot; &gt;&gt; /home/hello.txt</code>执行定时任务</li></ul><table><thead><tr><th>字符</th><th>含义</th><th>范围</th></tr></thead><tbody><tr><td>第1个<code>*</code></td><td>一天当中的第几分钟</td><td>0-59</td></tr><tr><td>第2个<code>*</code></td><td>一天当中的第几小时</td><td>0-23</td></tr><tr><td>第3个<code>*</code></td><td>一个月当中的第几天</td><td>1-31</td></tr><tr><td>第4个<code>*</code></td><td>一年当中的第几月</td><td>1-12</td></tr><tr><td>第5个<code>*</code></td><td>一周当中的星期几</td><td>0-7(0和7都代表星期日)</td></tr></tbody></table><table><thead><tr><th>特殊符号</th><th>含义</th></tr></thead><tbody><tr><td><code>*</code></td><td>代表任何时间,比如第一个“*”就代表一小时中每分钟都执行一次的意思</td></tr><tr><td><code>,</code></td><td>代表不连续的时间,比如“0 8,12,16 <em> </em> * 命令”，就代表在每天的8点0分，12点0分，16点0分都执行一次命令</td></tr><tr><td><code>-</code></td><td>代表连续的时间范围。比如“0 5  <em>  </em>  1-6命令”，代表在周一到周六的凌晨5点0分执行命令</td></tr><tr><td><code>*/n</code></td><td>代表每隔多久执行一次。比如“<em>/10  </em>  <em>  </em>  *  命令”，代表每隔10分钟就执行一遍命令</td></tr></tbody></table><table><thead><tr><th>时间</th><th>特定时间执行命令</th></tr></thead><tbody><tr><td><code>45 22 * * *</code></td><td>在22点45分执行命令</td></tr><tr><td><code>0 17 * * 1</code></td><td>每周1 的17点0分执行命令</td></tr><tr><td><code>0 5 1,15 * *</code></td><td>每月1号和15号的凌晨5点0分执行命令</td></tr><tr><td><code>40 4 * * 1-5</code></td><td>每周一到周五的凌晨4点40分执行命令</td></tr><tr><td><code>*/10 4 * * *</code></td><td>每天的凌晨4点，每隔10分钟执行一次命令</td></tr><tr><td><code>0 0 1,15 * 1</code></td><td>每月1号和15号，每周1的0点0分都会执行命令。注意：星期几和几号最好不要同时出现，因为他们定义的都是天。非常容易让管理员混乱</td></tr></tbody></table><hr><h1 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h1><ul><li><code>rpm -qa</code>查询所安装的所有软件包</li><li><code>rpm -e firefox-45.0.1-1.el6.centos.x86_64</code>卸载软件包</li><li><code>rpm -e --nodeps firefox-45.0.1-1.el6.centos.x86_64</code>卸载软件包(不检测依赖)</li><li><code>rpm –ivh firefox-45.0.1-1.el6.centos.x86_64</code>安装软件包</li><li><code>rpm –ivh --nodeps firefox-45.0.1-1.el6.centos.x86_64</code>安装软件包(不检测依赖)</li><li><code>-i</code>安装,<code>-v</code>显示详细信息,<code>-h</code>显示进度条,<code>--nodeps</code>不检测依赖进度</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux基础 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Linux基础配置</title>
      <link href="/2018/12/24/Linux%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/"/>
      <url>/2018/12/24/Linux%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="国内Centos镜像"><a href="#国内Centos镜像" class="headerlink" title="国内Centos镜像"></a>国内Centos镜像</h1><ul><li><a href="http://mirrors.163.com/centos/6/isos/" target="_blank" rel="noopener">网易镜像</a></li><li><a href="http://mirrors.sohu.com/centos/6/isos/" target="_blank" rel="noopener">搜狐镜像</a></li></ul><hr><h1 id="VmWare破解密匙"><a href="#VmWare破解密匙" class="headerlink" title="VmWare破解密匙"></a>VmWare破解密匙</h1><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MA491<span class="number">-6</span>NL5Q-AZAM0-ZH0N2-AAJ5A</span><br><span class="line"><span class="number">5</span>A6F6<span class="number">-88247</span>-XZH59-HL0Q6<span class="number">-8</span>CD2V</span><br><span class="line">HF6QX<span class="number">-20187</span><span class="number">-2</span>Z391<span class="number">-522</span>NH<span class="number">-9</span>AELT</span><br><span class="line"><span class="number">5</span>F29M<span class="number">-48312</span><span class="number">-8</span>ZDF9-A8A5K<span class="number">-2</span>AM0Z</span><br></pre></td></tr></table></figure><hr><h1 id="Linux目录结构"><a href="#Linux目录结构" class="headerlink" title="Linux目录结构"></a>Linux目录结构</h1><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">/bin</span>：是Binary的缩写，这个目录存放着系统必备执行命令</span><br><span class="line"><span class="string">/boot</span>：这里存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件，自己的安装别放这里</span><br><span class="line"><span class="string">/dev</span>：Device<span class="params">(设备)</span>的缩写，该目录下存放的是Linux的外部设备，在Linux中访问设备的方式和访问文件的方式是相同的。</span><br><span class="line"><span class="string">/etc</span>：所有的系统管理所需要的配置文件和子目录。</span><br><span class="line"><span class="string">/home</span>：存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。</span><br><span class="line"><span class="string">/lib</span>：系统开机所需要最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。</span><br><span class="line"><span class="string">/lost</span>+found：这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。</span><br><span class="line"><span class="string">/media</span>：linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。</span><br><span class="line"><span class="string">/misc</span>: 该目录可以用来存放杂项文件或目录，即那些用途或含义不明确的文件或目录可以存放在该目录下。</span><br><span class="line"><span class="string">/mnt</span>：系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在<span class="string">/mnt/</span>上，然后进入该目录就可以查看光驱里的内容了。</span><br><span class="line"><span class="string">/net</span>  存放着和网络相关的一些文件.</span><br><span class="line"><span class="string">/opt</span>：这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。</span><br><span class="line"><span class="string">/proc</span>：这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。</span><br><span class="line"><span class="string">/root</span>：该目录为系统管理员，也称作超级权限者的用户主目录。</span><br><span class="line"><span class="string">/sbin</span>：s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。</span><br><span class="line"><span class="string">/selinux</span>：这个目录是Redhat/CentOS所特有的目录，Selinux是一个安全机制，类似于windows的防火墙</span><br><span class="line"><span class="string">/srv</span>：service缩写，该目录存放一些服务启动之后需要提取的数据。</span><br><span class="line"><span class="string">/sys</span>： 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。</span><br><span class="line"><span class="string">/tmp</span>：这个目录是用来存放一些临时文件的。</span><br><span class="line"><span class="string">/usr</span>： 这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与windows下的program files目录。</span><br><span class="line"><span class="string">/var</span>：这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。</span><br></pre></td></tr></table></figure><hr><h1 id="配置静态ip和网络"><a href="#配置静态ip和网络" class="headerlink" title="配置静态ip和网络"></a>配置静态ip和网络</h1><ul><li>编辑网卡配置 <code>vi /etc/sysconfig/network-scripts/ifcfg-eth0</code></li><li><p>ip随意,和网关在同一网段即可,主要编辑<strong><em>ONBOOT</em></strong>,<strong><em>BOOTPROTO</em></strong>,<strong><em>IPADDR</em></strong>,<strong><em>GATEWAR</em></strong>,<strong><em>DNS1</em></strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">DEVICE=eth0</span><br><span class="line">HWADDR=<span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">5</span>D:<span class="number">7</span>B:D1</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">UUID=<span class="number">7</span>c705bcf-<span class="number">883f</span>-<span class="number">4841</span>-a374-<span class="number">40</span>d41be299c0</span><br><span class="line">ONBOOT=yes</span><br><span class="line">NM_CONTROLLED=yes</span><br><span class="line">BOOTPROTO=<span class="keyword">static</span></span><br><span class="line"></span><br><span class="line">IPADDR=<span class="number">192.168</span>.1.10</span><br><span class="line">GATEWAY=<span class="number">192.168</span>.1.2</span><br><span class="line">DNS1=<span class="number">192.168</span>.1.2</span><br></pre></td></tr></table></figure></li><li><p>重启网络服务 <code>service network restart</code></p></li></ul><hr><h1 id="配置主机名称"><a href="#配置主机名称" class="headerlink" title="配置主机名称"></a>配置主机名称</h1><ul><li><code>hostname</code>查看主机名称</li><li><code>hostname name</code>临时修改主机名称(系统重启后失效)</li><li><code>vi /etc/sysconfig/network</code>编辑<code>HOSTNAME master</code>永久修改主机名称(主机名称不要带有<code>_</code>)</li><li><code>vi /etc/hosts</code>编辑<code>192.168.1.10 master</code>配置主机名称映射(主机名称映射到对应ip)</li></ul><hr><h1 id="配置防火墙"><a href="#配置防火墙" class="headerlink" title="配置防火墙"></a>配置防火墙</h1><ul><li><code>service iptables status</code>查看防火墙状态</li><li><code>service iptables stop</code>临时关闭防火墙(系统重启后再次开启)</li><li><code>chkconfig iptables --list</code>查看防火墙状态</li><li><code>chkconfig iptables off</code>关闭防火墙开机启动</li><li><code>chkconfig iptables on</code>开启防火墙开机启动<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Linux系统有<span class="number">7</span>个运行级别(runlevel)</span><br><span class="line">运行级别<span class="number">0</span>：系统停机状态，系统默认运行级别不能设为<span class="number">0</span>，否则不能正常启动</span><br><span class="line">运行级别<span class="number">1</span>：单用户工作状态，root权限，用于系统维护，禁止远程登陆</span><br><span class="line">运行级别<span class="number">2</span>：多用户状态(没有NFS)</span><br><span class="line">运行级别<span class="number">3</span>：完全的多用户状态(有NFS)，登陆后进入控制台命令行模式</span><br><span class="line">运行级别<span class="number">4</span>：系统未使用，保留</span><br><span class="line">运行级别<span class="number">5</span>：X11控制台，登陆后进入图形GUI模式</span><br><span class="line">运行级别<span class="number">6</span>：系统正常关闭并重启，默认运行级别不能设为<span class="number">6</span>，否则不能正常启动</span><br></pre></td></tr></table></figure></li></ul><hr><h1 id="关机重启"><a href="#关机重启" class="headerlink" title="关机重启"></a>关机重启</h1><ul><li>正确的关机流程为:<code>sync &gt; shutdown &gt; reboot &gt; halt</code></li><li><code>sync</code>数据由内存同步到硬盘中</li><li><code>shutdown</code>[选项]时间<code>-h</code>关机,<code>-r</code>重启(<code>shutdown -r 1 &quot;1 分钟后重启&quot;</code>)</li><li><code>halt</code>关闭系统,等同于<code>shutdown –h now</code>和<code>poweroff</code></li><li><code>reboot</code>重启,等同于<code>shutdown –h now</code></li><li>关机或重启先执行<code>sync</code>持久化内存数据</li></ul><hr><h1 id="配置中文编码"><a href="#配置中文编码" class="headerlink" title="配置中文编码"></a>配置中文编码</h1><ul><li>查看编码<code>cat /etc/sysconfig/i18n</code></li><li>修改编码以<code>root</code>用户编辑<code>/etc/sysconfig/i18n</code><ul><li>安装系统为中文系统,修改<code>LANG=&quot;zh_CN.UTF-8&quot;</code></li><li>安装系统为英文系统，则修改<code>LANG=&quot;en_US.UTF-8&quot;</code></li><li>使用<code>xShell</code>或其它工具连接,可以修改终端显示编码为<code>utf-8</code></li></ul></li></ul><hr><h1 id="配置yum仓库"><a href="#配置yum仓库" class="headerlink" title="配置yum仓库"></a>配置yum仓库</h1><h3 id="yum命令"><a href="#yum命令" class="headerlink" title="yum命令"></a>yum命令</h3><ul><li><code>yum install -y httpd</code>安装<code>httpd</code>并确认安装</li><li><code>yum list</code>列出所有可用的<code>package</code>和<code>package</code>组</li><li><code>yum clean all</code>清除所有缓冲数据</li><li><code>yum deplist httpd</code>功能描述：列出一个包所有依赖的包</li><li><code>yum remove httpd</code>删除<code>httpd</code><h3 id="配置国内仓库镜像-以Centos6为例"><a href="#配置国内仓库镜像-以Centos6为例" class="headerlink" title="配置国内仓库镜像(以Centos6为例)"></a>配置国内仓库镜像(以Centos6为例)</h3></li><li><a href="http://mirrors.163.com/.help/centos.html" target="_blank" rel="noopener">国内镜像地址</a>下载<code>CentOS5</code>或<code>CentOS6</code>或<code>CentOS7</code></li><li><code>mv CentOS6-Base-163.repo /etc/yum.repos.d/</code>移动文件到<code>/etc/yum.repos.d</code>目录</li><li><code>mv CentOS6-Base-163.repo  CentOS-Base.rep</code>用<code>CentOS6-Base-163.repo</code>替换<code>CentOS-Base.rep</code></li><li><code>cd /etc/yum.repos.d/</code>,<code>cp CentOS-Base.repo  CentOS-Base.repo.bak</code>备份原有的<code>yum</code>源配置文件</li><li><p><code>vi CentOS-Base.repo</code>配置</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name</span>=CentOS-<span class="variable">$releasever</span> - Base - <span class="number">163</span>.com</span><br><span class="line"><span class="attr">baseurl</span>=http://mirrors.<span class="number">163</span>.com/centos/<span class="variable">$releasever</span>/os/<span class="variable">$basearch</span>/</span><br><span class="line"><span class="attr">gpgcheck</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">gpgkey</span>=http://mirrors.centos.org/centos/RPM-GPG-KEY-CentOS-<span class="number">6</span></span><br></pre></td></tr></table></figure></li><li><p><code>yum clean all</code>,<code>yum makecache</code>依次执行完成安装</p><h3 id="配置本地仓库镜像"><a href="#配置本地仓库镜像" class="headerlink" title="配置本地仓库镜像"></a>配置本地仓库镜像</h3><ul><li>准备一台<code>Linux</code>服务器,版本<code>CentOS-6.8-x86_64-bin-DVD1.iso</code>,配置好服务器<code>ip</code></li><li><code>mkdir /mnt/cdrom</code>,<code>mount -t iso9660 /dev/cdrom /mnt/cdrom</code>将<code>CentOS-6.8-x86_64-bin-DVD1.iso</code>镜像挂载到<code>/mnt/cdrom</code>目录</li><li><code>cd /etc/yum.repos.d/</code>,<code>cp CentOS-Base.repo  CentOS-Base.repo.bak</code>备份原有的<code>yum</code>源配置文件</li><li><p><code>vi CentOS-Base.repo</code>编辑<code>CentOS-Base.repo</code>文件</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[base]</span></span><br><span class="line"><span class="comment"># 配置本地镜像仓库</span></span><br><span class="line"><span class="attr">name</span>=CentOS-Local</span><br><span class="line"><span class="attr">baseurl</span>=file:///var/iso</span><br><span class="line"><span class="attr">gpgcheck</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">enabled</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">gpgkey</span>=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-<span class="number">6</span></span><br></pre></td></tr></table></figure></li><li><p><code>yum clean all</code>清除<code>yum</code>缓冲</p></li><li><code>yum repolist</code>列出可用的<code>yum</code>源</li><li><code>yum install -y httpd</code>安装相应的软件</li><li><code>yum.repos.d]#service httpd start</code>开启<code>httpd</code>使用浏览器访问<a href="http://192.168.11.101:80" target="_blank" rel="noopener">访问地址,以实际<code>ip</code>为准</a>如果访问不通,检查防火墙是否开启了80端口或关闭防火墙</li><li><code>cp -r /mnt/cdrom/ /var/www/html/CentOS</code>将<code>yum</code>源配置到<code>httpd(Apache Server)</code>中，其他的服务器即可通过网络访问这个内网中的<code>yum</code>源了</li><li><code>umount /mnt/cdrom</code>取消先前挂载的镜像</li><li><code>http://192.168.11.101/CentOS/</code>浏览器中访问</li><li><code>cd /etc/yum.repos.d/</code>,<code>cp CentOS-Base.repo  CentOS-Base.repo.bak</code>备份使用机器上的<code>yum</code>源</li><li><p><code>vi CentOS-Base.repo</code>让其他需要安装<code>rpm</code>包的服务器指向这个yum源</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置使用机器</span></span><br><span class="line"><span class="section">[base]</span></span><br><span class="line"><span class="attr">name</span>=CentOS-hadoop101</span><br><span class="line"><span class="attr">baseurl</span>=http://<span class="number">192.168</span>.<span class="number">11.101</span>/CentOS</span><br><span class="line"><span class="attr">gpgcheck</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">gpgkey</span>=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-<span class="number">6</span></span><br></pre></td></tr></table></figure></li><li><p><code>yum clean all</code>,<code>yum repolist</code>使用机器上执行更新配置 </p></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux基础 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Linux镜像&amp;VmWare密匙</title>
      <link href="/2018/12/23/Linux%E9%95%9C%E5%83%8F&amp;VmWare%E5%AF%86%E5%8C%99/"/>
      <url>/2018/12/23/Linux%E9%95%9C%E5%83%8F&amp;VmWare%E5%AF%86%E5%8C%99/</url>
      
        <content type="html"><![CDATA[<h1 id="国内Centos镜像"><a href="#国内Centos镜像" class="headerlink" title="国内Centos镜像"></a>国内Centos镜像</h1><ul><li><a href="http://mirrors.163.com/centos/6/isos/" target="_blank" rel="noopener">网易镜像</a></li><li><a href="http://mirrors.sohu.com/centos/6/isos/" target="_blank" rel="noopener">搜狐镜像</a></li></ul><p>-</p><h1 id="VmWare破解密匙"><a href="#VmWare破解密匙" class="headerlink" title="VmWare破解密匙"></a>VmWare破解密匙</h1><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MA491<span class="number">-6</span>NL5Q-AZAM0-ZH0N2-AAJ5A</span><br><span class="line"><span class="number">5</span>A6F6<span class="number">-88247</span>-XZH59-HL0Q6<span class="number">-8</span>CD2V</span><br><span class="line">HF6QX<span class="number">-20187</span><span class="number">-2</span>Z391<span class="number">-522</span>NH<span class="number">-9</span>AELT</span><br><span class="line"><span class="number">5</span>F29M<span class="number">-48312</span><span class="number">-8</span>ZDF9-A8A5K<span class="number">-2</span>AM0Z</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux基础 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Markdown基本语法</title>
      <link href="/2018/12/20/Markdown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/"/>
      <url>/2018/12/20/Markdown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h1><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 一级标题</span><br><span class="line">## 二级标题</span><br><span class="line">### 三级标题</span><br><span class="line">...以此类推最多六级</span><br></pre></td></tr></table></figure><h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><hr><h1 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h1><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>列表1</span><br><span class="line"><span class="bullet">- </span>列表2</span><br><span class="line"><span class="bullet">- </span>列表3</span><br></pre></td></tr></table></figure><ul><li>列表1</li><li>列表2<br>子列表1<br>子列表2</li><li>列表3</li></ul><hr><h1 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h1><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">链接</span>](<span class="link">https://github.com/2500639734</span>)</span><br></pre></td></tr></table></figure><p><a href="https://github.com/2500639734" target="_blank" rel="noopener">链接</a></p><hr><h1 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h1><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">图片</span>](<span class="link">https://www.baidu.com/img/baidu_jgylogo3.gif</span>)</span><br></pre></td></tr></table></figure><p><img src="https://www.baidu.com/img/baidu_jgylogo3.gif" alt="图片"></p><hr><h1 id="斜体"><a href="#斜体" class="headerlink" title="斜体"></a>斜体</h1><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">*斜体*</span></span><br></pre></td></tr></table></figure><p><em>斜体</em></p><h1 id="粗体"><a href="#粗体" class="headerlink" title="粗体"></a>粗体</h1><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*<span class="strong">*粗体*</span><span class="strong">*</span></span><br></pre></td></tr></table></figure><p><strong>粗体</strong></p><hr><h1 id="代码片段"><a href="#代码片段" class="headerlink" title="代码片段"></a>代码片段</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] arrs)</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"单行代码左右分别使用一个`符号包裹"</span>);</span><br><span class="line">System.out.println(<span class="string">"多行上下分别使用三个```符号包裹"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h1><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt; 引用</span></span><br></pre></td></tr></table></figure><blockquote><p>引用</p></blockquote><hr><h1 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h1><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">---或者***</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 写作 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
